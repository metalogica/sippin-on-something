<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alpine JS</title>

    <script defer src="quiz.js"></script>
    <script defer
      src="alpine.js"></script>
    <link rel="stylesheet" href="quiz.css">

  </head>
  <body>
    <div class="quiz-wrapper" x-cloak x-data>
      <div class="quiz-background">
        <img class="quiz-logo" src="assets/quiz-logo.png" alt>

        <div class="quiz-container bg-main">
          <template x-if="$store.quiz.state === STATE.NOT_STARTED">
            <div class="quiz-frame-start">
              <h1 class="quiz-header-start">Welcome To Somm School</h1>
              <button
                class="button-start"
                @click="() => $store.quiz.start()">Take the quiz</button>
            </div>
          </template>

          <template x-if="$store.quiz.state === STATE.IN_PROGRESS">
            <div class="quiz-frame-choices">
              <div>
                <span class="text-round-number"
                  x-text="$store.quiz.currentRound"></span><span
                  class="text-round-number">/10</span>
              </div>
              <h1 class="quiz-header-choices"
                x-text="$store.quiz.round.question"></h1>
              <div class="quiz-frame-choice-grid">
                <template x-for="(choice, index) in $store.quiz.round.choices">
                  <div
                    class="fade-in quiz-card"
                    @click="event => $store.quiz.select(event);">
                    <span x-text="$store.quiz.choiceLabels[index]"></span>
                    <span x-text="choice"></span>
                  </div>
                </template>
              </div>
              <div class="button-next"
                @click="$store.quiz.guess()">Next</div>
            </div>
          </template>

          <template x-if="$store.quiz.state === STATE.COMPLETED">
            <div>
              <h2>Competency Level</h2>
              <span x-text="$store.quiz.score"></span>
              <span x-text="$store.quiz.competencyText"></span>
            </div>
          </template>

        </div>
      </div>
    </body>
  </html>
